spring:
  application:
    name: dvmm-test

  # Disable actual Keycloak connection for tests
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8180/realms/dvmm
          # Disable JWKS validation - we use a mock decoder
          jwk-set-uri: http://localhost:8180/realms/dvmm/protocol/openid-connect/certs

# EAF Auth Configuration for tests
eaf:
  auth:
    keycloak:
      client-id: dvmm-web
      user-info-uri: http://localhost:8180/realms/dvmm/protocol/openid-connect/userinfo

  # CORS for tests
  cors:
    allowed-origins: http://localhost:3000

# Actuator - enable more endpoints for testing
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true

# Logging
logging:
  level:
    de.acci.dvmm: DEBUG
    de.acci.eaf: DEBUG
    org.springframework.security: DEBUG
